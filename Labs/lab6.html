<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Labs/lab6" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Lab 6 - Amazon Elastic Container Service (ECS) | OPS345 - Open System Application Server</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://seneca-ictoer.github.io/OPS345/Labs/lab6"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 6 - Amazon Elastic Container Service (ECS) | OPS345 - Open System Application Server"><meta data-rh="true" name="description" content="Configure the Elastic Container Service (ECS)"><meta data-rh="true" property="og:description" content="Configure the Elastic Container Service (ECS)"><link data-rh="true" rel="icon" href="/OPS345/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://seneca-ictoer.github.io/OPS345/Labs/lab6"><link data-rh="true" rel="alternate" href="https://seneca-ictoer.github.io/OPS345/Labs/lab6" hreflang="en"><link data-rh="true" rel="alternate" href="https://seneca-ictoer.github.io/OPS345/Labs/lab6" hreflang="x-default"><link rel="icon" href="/OPS345/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OPS345/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OPS345/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OPS345/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OPS345/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/OPS345/assets/css/styles.cba3e07b.css">
<script src="/OPS345/assets/js/runtime~main.7fe32309.js" defer="defer"></script>
<script src="/OPS345/assets/js/main.c2bdbc94.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OPS345/"><div class="navbar__logo"><img src="/OPS345/img/logo.svg" alt="Seneca Polytechnic" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/OPS345/img/logo-dark.svg" alt="Seneca Polytechnic" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OPS345 - Open System Application Server</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OPS345/">Welcome to OPS345</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OPS345/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/OPS345/Labs/lab1">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab1">Lab 1 - Introduction to Amazon Web Services (AWS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab2">Lab 2 - Amazon Web Services (AWS) Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab3">Lab 3 - Apache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab4">Lab 4 - DNS &amp; SSL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab5">Lab 5 - Amazon RDS Relational Database Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OPS345/Labs/lab6">Lab 6 - Amazon Elastic Container Service (ECS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab7">Lab 7 - Simple Storage Service (S3) Glacier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS345/Labs/lab8">Lab 8 - Elastic Beanstalk</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/OPS345/Assignments/assignment1">Assignments</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OPS345/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 6 - Amazon Elastic Container Service (ECS)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lab 6 - ECS</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>In this lab, you will learn how to build, run, and deploy a simple web application using Docker containers, and then use Amazon Elastic Container Service (ECS) to manage and orchestrate a containerized application in the cloud.</p>
<p>Containers are lightweight, portable units that package an application and all its dependencies together, ensuring that the application runs consistently across different computing environments. Docker is a popular platform for creating and managing containers.</p>
<p>You will start by creating a local Docker container for a web application. Next, you will configure and deploy a web application using Amazon ECS, a fully managed service that makes it easy to run and scale containerized applications on AWS. By the end of this lab, you will understand the basics of containerization and how to leverage ECS for deploying and managing containers in a cloud environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-creating-a-local-web-application-using-docker">Investigation 1: Creating a local web application using Docker<a href="#investigation-1-creating-a-local-web-application-using-docker" class="hash-link" aria-label="Direct link to Investigation 1: Creating a local web application using Docker" title="Direct link to Investigation 1: Creating a local web application using Docker">​</a></h2>
<p>In this investigation you will install the Docker Desktop software, create a simple web page and docker file. You will then use these to deploy your container locally.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-required-local-software">Installing the required local software<a href="#installing-the-required-local-software" class="hash-link" aria-label="Direct link to Installing the required local software" title="Direct link to Installing the required local software">​</a></h3>
<p>Install the following required software:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-desktop">Docker Desktop<a href="#docker-desktop" class="hash-link" aria-label="Direct link to Docker Desktop" title="Direct link to Docker Desktop">​</a></h4>
<ul>
<li><a href="https://docs.docker.com/desktop/setup/install/windows-install/" target="_blank" rel="noopener noreferrer">Windows</a></li>
<li><a href="https://docs.docker.com/desktop/setup/install/mac-install/" target="_blank" rel="noopener noreferrer">Mac</a></li>
<li><a href="https://docs.docker.com/desktop/setup/install/linux/" target="_blank" rel="noopener noreferrer">Linux</a></li>
</ul>
<blockquote>
<p>Note: Docker Desktop requires virtualization enabled in the bios to function. If you are experiencing issues with Docker Engine starting, check to ensure it is enabled.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="visual-studio-code-vscode">Visual Studio Code (VSCode)<a href="#visual-studio-code-vscode" class="hash-link" aria-label="Direct link to Visual Studio Code (VSCode)" title="Direct link to Visual Studio Code (VSCode)">​</a></h4>
<ul>
<li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VS Code</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-web-page">Creating a web page<a href="#creating-a-web-page" class="hash-link" aria-label="Direct link to Creating a web page" title="Direct link to Creating a web page">​</a></h3>
<ul>
<li>Create a local directory called <strong>lab6</strong>.</li>
<li>Open VS Code.</li>
<li>Click on new file (in the welcome screen) and create a new file named <strong>index.html</strong> with the following contents (replacing <strong>your name</strong> with your name). Save it in the <strong>lab6</strong> directory.</li>
</ul>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">author</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Your Name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">My Web Page</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Your name&#x27;s web page</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hello World</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>In the same directory create the file <strong>Dockerfile</strong> with the following contents. When VS Code prompts you to install the Docker extension, install it.</li>
</ul>
<div class="language-docker codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-docker codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM httpd:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /usr/local/apache2/htdocs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY . /usr/local/apache2/htdocs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-and-running-your-application">Building and running your application<a href="#building-and-running-your-application" class="hash-link" aria-label="Direct link to Building and running your application" title="Direct link to Building and running your application">​</a></h3>
<ul>
<li>In VS Code click on <strong>View</strong> &gt; <strong>Terminal</strong> and issue the following commands.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker build -t my-apache-app .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --name my-apache-app -d -p 80:80 -t my-apache-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viewing-your-web-page">Viewing your web page<a href="#viewing-your-web-page" class="hash-link" aria-label="Direct link to Viewing your web page" title="Direct link to Viewing your web page">​</a></h3>
<ul>
<li>Open a browser and enter localhost in the URL bar</li>
<li>You should see your webpage</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-amazon-ecs-elastic-container-service-configuration">Investigation 2: Amazon ECS (Elastic Container Service) Configuration<a href="#investigation-2-amazon-ecs-elastic-container-service-configuration" class="hash-link" aria-label="Direct link to Investigation 2: Amazon ECS (Elastic Container Service) Configuration" title="Direct link to Investigation 2: Amazon ECS (Elastic Container Service) Configuration">​</a></h2>
<p>Amazon Elastic Container Service (ECS) is a fully managed container orchestration service provided by AWS. It enables you to easily run, scale, and secure Docker containers on the AWS cloud without needing to manage your own container infrastructure. ECS supports both serverless (AWS Fargate) and server-based (EC2) compute options, allowing you to choose the best deployment model for your applications. With ECS, you can define how your containers should run, manage networking and security, and automate scaling and monitoring, making it easier to deploy and operate containerized applications in production environments. In this lab you will be using a serverless container deployment via AWS Fargate.</p>
<p>Now that you have a general idea of what ECS entails, you will learn how it works by <em>manually</em> setting-up an ECS Cluster, Service, and Task for our <code>my-apache-app</code> microservice.</p>
<ol>
<li>Start the <strong>AWS Academy Learner Lab</strong> and <strong>AWS Console</strong>. Search for <strong>Elastic Container Service</strong>.</li>
<li>We&#x27;ll need to define our <strong>Container definition</strong>, <strong>Task definition</strong>, <strong>Service</strong>, and <strong>Cluster</strong>, and we&#x27;ll begin with the <strong>Task Definition</strong>.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-definition">Task Definition<a href="#task-definition" class="hash-link" aria-label="Direct link to Task Definition" title="Direct link to Task Definition">​</a></h3>
<p>The <strong>Task Definition</strong> defines how to run our container with ECS. Let&#x27;s create one for our <code>my-apache-app</code> server:</p>
<ol>
<li>In the <strong>Amazon Elastic Container Service</strong> console, choose <strong>Task definitions</strong> in the left-hand menu</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="task-definition-configuration">Task definition configuration<a href="#task-definition-configuration" class="hash-link" aria-label="Direct link to Task definition configuration" title="Direct link to Task definition configuration">​</a></h4>
<ol>
<li>Click the <strong>Create new task definition</strong> button and <strong>Create new task definition</strong>.</li>
<li>In the <strong>Task definition configuration</strong>, give your new task definition a <strong>family name</strong>: <code>my-apache-app</code>.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure-requirements">Infrastructure requirements<a href="#infrastructure-requirements" class="hash-link" aria-label="Direct link to Infrastructure requirements" title="Direct link to Infrastructure requirements">​</a></h4>
<p>As we know from working with EC2, running an application in AWS requires compute resources (e.g., EC2 instances), and these need to be provisioned and set with sufficient resources. Previously we did this manually, but now we will use the managed Fargate service to handle our compute.</p>
<ol>
<li>Under <strong>Infrastructure requirements</strong> we specify the infrastructure computing needs for our task. We will be using <strong>AWS Fargate</strong> serverless compute and <strong>Linux/X86_64</strong> for our <strong>Operating system/Architecture</strong>.</li>
<li>The <strong>Task size</strong>, defines how much <strong>CPU</strong> and <strong>Memory</strong> to allocate. Accept the defaults.</li>
<li>In terms of security, we need to define two different <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html" target="_blank" rel="noopener noreferrer">IAM Roles</a> within our AWS account. First, the <strong>Task role</strong> specifies the rights that the container running within the task will have (e.g., to be able to access other AWS resources in our account); second, the <strong>Task execution role</strong> specifies what rights that the ECS cluster and infrastructure will have (e.g., to access resources like our ECR repo). Set both of these roles to the pre-defined <strong>LabRole</strong> AWS Role, which will grant them access to any resources we own.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="container---1">Container - 1<a href="#container---1" class="hash-link" aria-label="Direct link to Container - 1" title="Direct link to Container - 1">​</a></h4>
<p>Next we define the container (or containers if running multiple), that will be run in our task. This step is a bit like defining the options to pass to <code>docker run</code> on the command line.</p>
<ol>
<li>For the <strong>Container details</strong>, use a <strong>Name</strong> of <code>my-apache-app</code></li>
<li>For <strong>Image URI</strong>, use <code>public.ecr.aws/docker/library/httpd:latest</code></li>
<li>For the <strong>Port mappings</strong>, we&#x27;ll use the production HTTP port, <code>80</code>. This is the default configuration: <strong>Container port</strong> is <code>80</code>, uses the <code>TCP</code> <strong>Protocol</strong>, and that the <strong>App protocol</strong> is <code>HTTP</code>. You can leave the <strong>Port name</strong> empty.</li>
<li>For the <strong>Resource allocation limits</strong>, specify the amount of <strong>CPU</strong>, <code>1</code>, and <strong>Memory</strong>, <code>1</code> for the <strong>Memory soft limit</strong>. This means your container will reserve <code>512 MiB</code> of RAM when it starts (a <strong>Hard limit</strong> would define the <em>maximum</em> memory allowed, which we won&#x27;t set).</li>
<li>The default values for <strong>Logging</strong> are good. ECS will use the <a href="https://aws.amazon.com/cloudwatch/" target="_blank" rel="noopener noreferrer">Amazon CloudWatch</a> service to collect our container logs into a <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CloudWatchLogsConcepts.html" target="_blank" rel="noopener noreferrer">Log Group</a> named <code>/ecs/my-apache-app</code>. You should write this down for later, when you need to see the logs for your server.</li>
<li>The default values for <strong>Storage</strong> are sufficient.</li>
</ol>
<p>Everything else should be good using the default configuration. You can now click the <strong>Create</strong> button (at the bottom).</p>
<p>Your <code>my-apache-app</code> Task Definition is now created, and you can inspect or edit it at any time by coming back to <strong>Amazon Elastic Container Service</strong> &gt; <strong>Task definitions</strong> &gt; <strong>my-apache-app</strong>. When you do make changes, a new version will be created (i.e., this first version is <strong>Revision 1</strong>, <code>my-apache-app:1</code>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-3-creating-a-cluster">Investigation 3: Creating a Cluster<a href="#investigation-3-creating-a-cluster" class="hash-link" aria-label="Direct link to Investigation 3: Creating a Cluster" title="Direct link to Investigation 3: Creating a Cluster">​</a></h2>
<p>Next we need to create a cluster where we can run our task.</p>
<ol>
<li>On the left side navigate to <strong>Clusters</strong></li>
<li>Click the <strong>Create cluster</strong> button</li>
<li>Use the default <strong>Cluster name</strong>.</li>
<li>Under <strong>Infrastructure</strong>, choose <strong>AWS Fargate (serverless)</strong></li>
<li>The default settings are good for all other options</li>
<li>Click the <strong>Create</strong> button</li>
</ol>
<p>It will take a minute or two for the cluster to be fully created. Once it is, move on to create your <strong>Service</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-service">Creating a service<a href="#creating-a-service" class="hash-link" aria-label="Direct link to Creating a service" title="Direct link to Creating a service">​</a></h3>
<p>The final step is to create a <strong>Service</strong> within our cluster. A service is responsible for deploying, managing, and monitoring our tasks (and the containers they run).</p>
<p>Click on the newly created cluster, then under <strong>Services</strong>, click the <strong>Create</strong> button.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="service-details">Service Details<a href="#service-details" class="hash-link" aria-label="Direct link to Service Details" title="Direct link to Service Details">​</a></h4>
<ol>
<li>For the <strong>Task definition</strong>, choose the <strong>Family</strong> we created in the previous steps, <code>my-apache-app</code>, and the only <strong>Revision</strong> we have, <code>1 (LATEST)</code>. Our service will use this task definition to create and manage our task for us.</li>
<li>Next, select the default <strong>Service name</strong>.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">​</a></h4>
<ol>
<li>For <strong>Compute options</strong> select <strong>Launch Type</strong></li>
<li>For <strong>Launch type</strong> select <strong>FARGATE</strong></li>
<li>For <strong>Platform version</strong> select <strong>latest</strong></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-configuration">Deployment configuration<a href="#deployment-configuration" class="hash-link" aria-label="Direct link to Deployment configuration" title="Direct link to Deployment configuration">​</a></h4>
<ol>
<li>We will use a <strong>Service type</strong> of <code>Replica</code>, which allows us to run multiple, simultaneous versions of our task for high-availability. To start, we&#x27;ll choose to set the <strong>Desired tasks</strong> to <code>1</code> (i.e., only run a single task with a single instance of our server).</li>
<li>Leave the rest of the defaults.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="networking">Networking<a href="#networking" class="hash-link" aria-label="Direct link to Networking" title="Direct link to Networking">​</a></h4>
<ol>
<li>Under <strong>VPC</strong> select <strong>Wordpress VPC</strong></li>
<li>Under <strong>Subnets</strong> make sure the following are selected (they should be by default)</li>
</ol>
<ul>
<li>Public Subnet 1</li>
<li>Public Subnet 2</li>
<li>Private Subnet 1</li>
<li>Private Subnet 2</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="security-group">Security Group<a href="#security-group" class="hash-link" aria-label="Direct link to Security Group" title="Direct link to Security Group">​</a></h4>
<ol>
<li>Under <strong>Security group</strong> select <strong>Use an existing security group</strong></li>
<li>From the <strong>Security group name</strong> drop down menu check <strong>Wordpress Website SG</strong> and uncheck <strong>default</strong></li>
<li>Leave <strong>Public IP</strong> as <strong>Turned on</strong> to auto-assign a public IP to your tasks.</li>
</ol>
<p>Click <strong>Create</strong>. It may take several minutes to create.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viewing-your-apache-web-page">Viewing your Apache web page<a href="#viewing-your-apache-web-page" class="hash-link" aria-label="Direct link to Viewing your Apache web page" title="Direct link to Viewing your Apache web page">​</a></h3>
<ol>
<li>Go to <strong>EC2</strong> &gt; <strong>Network &amp; Security</strong> &gt; <strong>Network Interfaces</strong></li>
<li>You should notice a new interface with a description beginning with <strong>arn:aws:ecs:us-east-1:</strong></li>
<li>Check the box beside it</li>
<li>Copy the <strong>Public IPv4 address</strong> and paste it in your web browser.</li>
<li>You should see the default Apache web page, displaying the text <strong>It works!</strong></li>
</ol>
<p>In this lab you have created a local Apache container, and a container in Amazon ECS with the default Apache image. You will be using Elastic Beanstalk to deploy a Wordpress website in Lab 8. Elastic Beanstalk uses containers, although it automates the process of creating and deploying them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-6-sign-off">Lab 6 Sign-Off<a href="#lab-6-sign-off" class="hash-link" aria-label="Direct link to Lab 6 Sign-Off" title="Direct link to Lab 6 Sign-Off">​</a></h2>
<p>Take screenshots showing the following:</p>
<ul>
<li>Your local webpage from Investigation 1 accessed in a browser</li>
<li>The default apache web page (running in the container you built in ECS) accessed in a browser</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploration-questions">Exploration Questions<a href="#exploration-questions" class="hash-link" aria-label="Direct link to Exploration Questions" title="Direct link to Exploration Questions">​</a></h2>
<ol>
<li>How is this lab similar to <strong>Lab 3</strong>?</li>
<li>Do you think containers could be used to deploy a website using WordPress, as we did in <strong>Lab 5</strong>?</li>
<li>What is the difference between running a container locally with Docker and running it on AWS ECS?</li>
<li>What are the benefits of using AWS Fargate compared to managing your own EC2 instances?</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/catherine-leung/OERTemplate/tree/main/docs/Labs/lab6.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/OPS345/Labs/lab5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 5 - Amazon RDS Relational Database Service</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OPS345/Labs/lab7"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 7 - Simple Storage Service (S3) Glacier</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#investigation-1-creating-a-local-web-application-using-docker" class="table-of-contents__link toc-highlight">Investigation 1: Creating a local web application using Docker</a><ul><li><a href="#installing-the-required-local-software" class="table-of-contents__link toc-highlight">Installing the required local software</a><ul><li><a href="#docker-desktop" class="table-of-contents__link toc-highlight">Docker Desktop</a></li><li><a href="#visual-studio-code-vscode" class="table-of-contents__link toc-highlight">Visual Studio Code (VSCode)</a></li></ul></li><li><a href="#creating-a-web-page" class="table-of-contents__link toc-highlight">Creating a web page</a></li><li><a href="#building-and-running-your-application" class="table-of-contents__link toc-highlight">Building and running your application</a></li><li><a href="#viewing-your-web-page" class="table-of-contents__link toc-highlight">Viewing your web page</a></li></ul></li><li><a href="#investigation-2-amazon-ecs-elastic-container-service-configuration" class="table-of-contents__link toc-highlight">Investigation 2: Amazon ECS (Elastic Container Service) Configuration</a><ul><li><a href="#task-definition" class="table-of-contents__link toc-highlight">Task Definition</a><ul><li><a href="#task-definition-configuration" class="table-of-contents__link toc-highlight">Task definition configuration</a></li><li><a href="#infrastructure-requirements" class="table-of-contents__link toc-highlight">Infrastructure requirements</a></li><li><a href="#container---1" class="table-of-contents__link toc-highlight">Container - 1</a></li></ul></li></ul></li><li><a href="#investigation-3-creating-a-cluster" class="table-of-contents__link toc-highlight">Investigation 3: Creating a Cluster</a><ul><li><a href="#creating-a-service" class="table-of-contents__link toc-highlight">Creating a service</a><ul><li><a href="#service-details" class="table-of-contents__link toc-highlight">Service Details</a></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li><li><a href="#deployment-configuration" class="table-of-contents__link toc-highlight">Deployment configuration</a></li><li><a href="#networking" class="table-of-contents__link toc-highlight">Networking</a></li><li><a href="#security-group" class="table-of-contents__link toc-highlight">Security Group</a></li></ul></li><li><a href="#viewing-your-apache-web-page" class="table-of-contents__link toc-highlight">Viewing your Apache web page</a></li></ul></li><li><a href="#lab-6-sign-off" class="table-of-contents__link toc-highlight">Lab 6 Sign-Off</a></li><li><a href="#exploration-questions" class="table-of-contents__link toc-highlight">Exploration Questions</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OPS345 - Open System Application Server</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Candice Carman.</div></div></div></footer></div>
</body>
</html>