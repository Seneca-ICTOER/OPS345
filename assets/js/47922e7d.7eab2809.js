"use strict";(self.webpackChunkOPS345_CE=self.webpackChunkOPS345_CE||[]).push([[375],{5394:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/mariadb-connect-02efcfdd231cdea0930ce5c57fac206a.png"},6274:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/rds-9dc21d46de223eb9245d762cb0175f9d.png"},7947:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Labs/lab5","title":"Lab 5 - Amazon RDS Relational Database Service","description":"Configure the RDS.","source":"@site/docs/Labs/lab5.md","sourceDirName":"Labs","slug":"/Labs/lab5","permalink":"/OPS345/Labs/lab5","draft":false,"unlisted":false,"editUrl":"https://github.com/catherine-leung/OERTemplate/tree/main/docs/Labs/lab5.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"lab5","title":"Lab 5 - Amazon RDS Relational Database Service","sidebar_position":5,"description":"Configure the RDS."},"sidebar":"courseNotesSidebar","previous":{"title":"Lab 4 - DNS & SSL","permalink":"/OPS345/Labs/lab4"},"next":{"title":"Lab 6 - Amazon Elastic Container Service (ECS)","permalink":"/OPS345/Labs/lab6"}}');var i=s(4848),t=s(8453);const a={id:"lab5",title:"Lab 5 - Amazon RDS Relational Database Service",sidebar_position:5,description:"Configure the RDS."},l="Lab 5 - RDS",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Creating a RDS instance",id:"creating-a-rds-instance",level:2},{value:"Connecting to your database from www",id:"connecting-to-your-database-from-www",level:2},{value:"Installing and Configuring Wordpress",id:"installing-and-configuring-wordpress",level:2},{value:"Blog Post:",id:"blog-post",level:3},{value:"Lab 9 Sign-Off (Show Instructor)",id:"lab-9-sign-off-show-instructor",level:2},{value:"Exploration Questions",id:"exploration-questions",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"lab-5---rds",children:"Lab 5 - RDS"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"This week's lab will cover the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creating a Relational Database Service (RDS) instance"}),"\n",(0,i.jsx)(n.li,{children:"Connecting to your RDS"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In this lab, you will create a database using the Relational Database Service. You will then test connecting to it from your ",(0,i.jsx)(n.strong,{children:"www"})," instance. You will use this database in ",(0,i.jsx)(n.strong,{children:"lab 10"})," to install and deploy Wordpress using Elastic Beanstalk."]}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-rds-instance",children:"Creating a RDS instance"}),"\n",(0,i.jsxs)(n.p,{children:["Start your session in the Learner Lab by clicking on the ",(0,i.jsx)(n.strong,{children:"Start Lab"})," button. Once the red dot has turned green, click on it to enter the Learner Lab and access the AWS Console interface. You are going to create a new RDS instance."]}),"\n",(0,i.jsxs)(n.p,{children:["From the ",(0,i.jsx)(n.strong,{children:"Console Home"})," navigate to ",(0,i.jsx)(n.strong,{children:"Database"})," > ",(0,i.jsx)(n.strong,{children:"RDS"}),". See the following screenshot for reference."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Relational Database",src:s(6274).A+"",width:"710",height:"903"})}),"\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create database"})," (part way down the screen). Use the following options."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Standard create"}),"\n",(0,i.jsxs)(n.li,{children:["Engine type: ",(0,i.jsx)(n.strong,{children:"MariaDB"})]}),"\n",(0,i.jsxs)(n.li,{children:["Engine Version: ",(0,i.jsx)(n.strong,{children:"MariaDB 11.4.4"})," (or current latest version available)"]}),"\n",(0,i.jsxs)(n.li,{children:["Templates: ",(0,i.jsx)(n.strong,{children:"Free tier"})]}),"\n",(0,i.jsxs)(n.li,{children:["DB instance identifier: ",(0,i.jsx)(n.strong,{children:"wordpress-db"})]}),"\n",(0,i.jsxs)(n.li,{children:["Master username: ",(0,i.jsx)(n.strong,{children:"admin"})]}),"\n",(0,i.jsxs)(n.li,{children:["Credentials management: ",(0,i.jsx)(n.strong,{children:"Self Managed"})]}),"\n",(0,i.jsxs)(n.li,{children:["Auto generate a password: ",(0,i.jsx)(n.strong,{children:"Checked"})]}),"\n",(0,i.jsxs)(n.li,{children:["DB instance class: ",(0,i.jsx)(n.strong,{children:"db.t3.micro"})]}),"\n",(0,i.jsxs)(n.li,{children:["Allocated storage: ",(0,i.jsx)(n.strong,{children:"5 GiB"})]}),"\n",(0,i.jsxs)(n.li,{children:["Enable storage autoscaling: ",(0,i.jsx)(n.strong,{children:"Unchecked"})]}),"\n",(0,i.jsxs)(n.li,{children:["Virtual private cloud (VPC): ",(0,i.jsx)(n.strong,{children:"Wordpress VPC"})]}),"\n",(0,i.jsxs)(n.li,{children:["DB subnet group: ",(0,i.jsx)(n.strong,{children:"Create new DB Subnet Group"})," (if you're redoing your database creation, there will already be an entry here. Make sure you're using the ",(0,i.jsx)(n.em,{children:"Wordpress VPC"})," in the setting above!)"]}),"\n",(0,i.jsxs)(n.li,{children:["Public access: ",(0,i.jsx)(n.strong,{children:"No"})]}),"\n",(0,i.jsxs)(n.li,{children:["VPC security group: ",(0,i.jsx)(n.strong,{children:"Choose existing"})]}),"\n",(0,i.jsxs)(n.li,{children:["Existing VPC security groups:","\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Remove default VPC"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Add ",(0,i.jsx)(n.em,{children:"Wordpress Database SG"})]})," (look to see that it's there below the dropdown after you select it)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Availability Zone: ",(0,i.jsx)(n.strong,{children:"us-east-1a"})]}),"\n",(0,i.jsxs)(n.li,{children:["Monitoring > Enable Enhanced monitoring: ",(0,i.jsx)(n.strong,{children:"Unchecked"})]}),"\n",(0,i.jsxs)(n.li,{children:["Below the Monitoring section, Additional configuration > Initial database name: ",(0,i.jsx)(n.strong,{children:"wordpress"})," (Write the database name down! You will need this later.)"]}),"\n",(0,i.jsxs)(n.li,{children:["Enable automated backups: ",(0,i.jsx)(n.strong,{children:"Unchecked"})]}),"\n",(0,i.jsxs)(n.li,{children:["Enable encryption: ",(0,i.jsx)(n.strong,{children:"Unchecked"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create database"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["This will take a few minutes to create. Once the database has finished creating, click on the ",(0,i.jsx)(n.em,{children:"View connection details"})," button by the green success message at the top of the page. This gives you your database password."]}),"\n",(0,i.jsx)(n.p,{children:"Store the following connection information about your RDS instance in your lab logbook or a saved document. You'll need it later:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Initial database name"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Master username"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Master password"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"connecting-to-your-database-from-www",children:"Connecting to your database from www"}),"\n",(0,i.jsxs)(n.p,{children:["Login to your ",(0,i.jsx)(n.strong,{children:"www"})," instance, and install the mariadb client."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install mariadb-client-core\n"})}),"\n",(0,i.jsx)(n.p,{children:"From your terminal, issue the following command to connect to your database. Be sure to substitute the credentials you wrote down earlier."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mysql -u admin -h **endpoint** -p\n"})}),"\n",(0,i.jsx)(n.p,{children:"Enter your Master password when prompted. You should see the following screen indicating a successful connection."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"MariaDB connected",src:s(5394).A+"",width:"710",height:"156"})}),"\n",(0,i.jsx)(n.p,{children:"Issue the following command to display the databases."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"show databases;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Disconnect from the database."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"quit;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"installing-and-configuring-wordpress",children:"Installing and Configuring Wordpress"}),"\n",(0,i.jsx)(n.p,{children:"Install Wordpress using apt."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install wordpress\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Create a virtual host file in ",(0,i.jsx)(n.strong,{children:"/etc/apache2/sites-available/wordpress.conf"})," with the following contents:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Alias /blog /usr/share/wordpress\n<Directory /usr/share/wordpress>\n    Options FollowSymLinks\n    AllowOverride Limit Options FileInfo\n    DirectoryIndex index.php\n    Order allow,deny\n    Allow from all\n</Directory>\n<Directory /usr/share/wordpress/wp-content>\n    Options FollowSymLinks\n    Order allow,deny\n    Allow from all\n</Directory>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Enable the new WordPress site"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo a2ensite wordpress\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use systemctl to restart the apache service."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Edit the file ",(0,i.jsxs)(n.strong,{children:["/etc/wordpress/config-",(0,i.jsx)(n.a,{href:"http://www.username.mystudentproject.ca.php",children:"www.username.mystudentproject.ca.php"})]})," where username is your Seneca username. Add the following contents (changing values where appropriate)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php\ndefine('DB_NAME', 'wordpress');\ndefine('DB_USER', 'admin');\ndefine('DB_PASSWORD', 'yourdbpassword');\ndefine('DB_HOST', 'yourdbendpoint');\ndefine('WP_CONTENT_DIR', '/usr/share/wordpress/wp-content');\n?>\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Open a web browser and enter the following url: ",(0,i.jsx)(n.a,{href:"http://www.username.mystudentproject.ca/blog/wp-admin/install.php",children:"http://www.username.mystudentproject.ca/blog/wp-admin/install.php"})]}),"\n",(0,i.jsxs)(n.li,{children:["You should see a Wordpress Welcome/Setup page. Follow the prompts on screen and enter the appropriate information.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use the ",(0,i.jsx)(n.strong,{children:"Database Name"}),", ",(0,i.jsx)(n.strong,{children:"Username"})," and ",(0,i.jsx)(n.strong,{children:"Password"})," you configured above."]}),"\n",(0,i.jsx)(n.li,{children:"Set the title to Your Name's Blog. For example for me it would be \"Jason Carman's Blog\""}),"\n",(0,i.jsx)(n.li,{children:"Set the username to your Seneca ID."}),"\n",(0,i.jsxs)(n.li,{children:["Set the password to your Seneca ID. You may need to check the box to ",(0,i.jsx)(n.strong,{children:"Confirm use of weak password"})]}),"\n",(0,i.jsx)(n.li,{children:"Set the email to your Seneca email address."}),"\n",(0,i.jsx)(n.li,{children:'Click "Install Wordpress", you should see a "Success!" message.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"blog-post",children:"Blog Post:"}),"\n",(0,i.jsx)(n.p,{children:"Add a blog post detailing the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"How did you find this lab?"}),"\n",(0,i.jsx)(n.li,{children:"What was the most difficult part for you?"}),"\n",(0,i.jsx)(n.li,{children:"What was the easiest part for you?"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"lab-9-sign-off-show-instructor",children:"Lab 9 Sign-Off (Show Instructor)"}),"\n",(0,i.jsx)(n.p,{children:"Show your professor the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A successful connection to the database from your www instance."}),"\n",(0,i.jsx)(n.li,{children:"Your blog post"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"exploration-questions",children:"Exploration Questions"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"What is an RDS?"}),"\n",(0,i.jsxs)(n.li,{children:["How is this lab similar to ",(0,i.jsx)(n.strong,{children:"Assignment 1"}),"?"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);