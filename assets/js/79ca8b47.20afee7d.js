"use strict";(self.webpackChunkOPS345_CE=self.webpackChunkOPS345_CE||[]).push([[658],{847:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Labs/lab7","title":"Lab 7 - Simple Storage Service (S3)","description":"Backing up files using Simple Storage Service (S3) Buckets","source":"@site/docs/Labs/lab7.md","sourceDirName":"Labs","slug":"/Labs/lab7","permalink":"/OPS345/Labs/lab7","draft":false,"unlisted":false,"editUrl":"https://github.com/catherine-leung/OERTemplate/tree/main/docs/Labs/lab7.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"lab7","title":"Lab 7 - Simple Storage Service (S3)","sidebar_position":7,"description":"Backing up files using Simple Storage Service (S3) Buckets"},"sidebar":"courseNotesSidebar","previous":{"title":"Lab 6 - Amazon Elastic Container Service (ECS)","permalink":"/OPS345/Labs/lab6"},"next":{"title":"Lab 8 - Elastic Beanstalk","permalink":"/OPS345/Labs/lab8"}}');var r=i(4848),l=i(8453);const t={id:"lab7",title:"Lab 7 - Simple Storage Service (S3)",sidebar_position:7,description:"Backing up files using Simple Storage Service (S3) Buckets"},o="Lab 7 - Simple Storage Service (S3) Glacier",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Investigation 1: Wordpress Source Code Modification",id:"investigation-1-wordpress-source-code-modification",level:2},{value:"Download and Unzip - Local Computer",id:"download-and-unzip---local-computer",level:3},{value:"Modify Wordpress Configuration File",id:"modify-wordpress-configuration-file",level:3},{value:"Duplicate and Open Configuration File",id:"duplicate-and-open-configuration-file",level:4},{value:"Adding Database Connector Info as Environment Variables",id:"adding-database-connector-info-as-environment-variables",level:4},{value:"Adding Authentication Unique Keys and Salts as Environment Variables",id:"adding-authentication-unique-keys-and-salts-as-environment-variables",level:4},{value:"Zip As New File and Rename - Local Computer",id:"zip-as-new-file-and-rename---local-computer",level:3},{value:"Investigation 2: Creating an Simple Storage Service (S3) Bucket",id:"investigation-2-creating-an-simple-storage-service-s3-bucket",level:2},{value:"General configuration",id:"general-configuration",level:3},{value:"Object Ownership",id:"object-ownership",level:3},{value:"Block Public Access settings for this bucket",id:"block-public-access-settings-for-this-bucket",level:3},{value:"Bucket versioning",id:"bucket-versioning",level:3},{value:"Default encryption",id:"default-encryption",level:3},{value:"Bucket key",id:"bucket-key",level:3},{value:"Lab 7 Sign-Off (Show Instructor)",id:"lab-7-sign-off-show-instructor",level:2},{value:"Exploration Questions",id:"exploration-questions",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"lab-7---simple-storage-service-s3-glacier",children:"Lab 7 - Simple Storage Service (S3) Glacier"})}),"\n",(0,r.jsx)(n.h1,{id:"under-development",children:"Under Development"}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This week's lab will cover the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Modifying the wordpress source code in preparation for ",(0,r.jsx)(n.strong,{children:"Lab 8"})]}),"\n",(0,r.jsx)(n.li,{children:"Creating a public Simple Storage Service (S3) bucket"}),"\n",(0,r.jsx)(n.li,{children:"Uploading files to a Simple Storage Service (S3) bucket"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Before you begin, you should login to your ",(0,r.jsx)(n.strong,{children:"AWS Learner Lab"})," and start your ",(0,r.jsx)(n.strong,{children:"wordpress-elsaticbeanstalk"})," database."]}),"\n",(0,r.jsx)(n.h2,{id:"investigation-1-wordpress-source-code-modification",children:"Investigation 1: Wordpress Source Code Modification"}),"\n",(0,r.jsx)(n.h3,{id:"download-and-unzip---local-computer",children:"Download and Unzip - Local Computer"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["On your local computer, download the current Wordpress source code from here: ",(0,r.jsx)(n.a,{href:"https://wordpress.org/latest.zip",children:"https://wordpress.org/latest.zip"})]}),"\n",(0,r.jsxs)(n.li,{children:["Unzip the file. You should end up with a ",(0,r.jsx)(n.em,{children:"wordpress"})," directory. (Do not delete the original .zip file)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"modify-wordpress-configuration-file",children:"Modify Wordpress Configuration File"}),"\n",(0,r.jsx)(n.h4,{id:"duplicate-and-open-configuration-file",children:"Duplicate and Open Configuration File"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In the local ",(0,r.jsx)(n.em,{children:"wordpress"})," folder, find a file called: ",(0,r.jsx)(n.strong,{children:"wp-config-sample.php"})]}),"\n",(0,r.jsxs)(n.li,{children:["Duplicate this file, and call it: ",(0,r.jsx)(n.strong,{children:"wp-config.php"})]}),"\n",(0,r.jsxs)(n.li,{children:["Open ",(0,r.jsx)(n.strong,{children:"wp-config.php"})," in a text editor. You will want something that supports syntax highlighting, such as Visual Studio Code."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"adding-database-connector-info-as-environment-variables",children:"Adding Database Connector Info as Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["In this file (wp-config.php), you will be adding database connector information as ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"environment variables"})}),", not the actual connector information. (We'll add that information later.)"]}),"\n",(0,r.jsx)(n.p,{children:"Find the following lines and add the bolded values:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["define('DB_NAME', ",(0,r.jsx)(n.strong,{children:"getenv('DB_NAME')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('DB_USER', ",(0,r.jsx)(n.strong,{children:"getenv('DB_USER')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('DB_PASSWORD', ",(0,r.jsx)(n.strong,{children:"getenv('DB_PASSWORD')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('DB_HOST', ",(0,r.jsx)(n.strong,{children:"getenv('DB_HOST')"}),");"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"adding-authentication-unique-keys-and-salts-as-environment-variables",children:"Adding Authentication Unique Keys and Salts as Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["In the same file (wp-config.php), you'll be adding the authentication keys and salts as ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"environment variables"})}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Find the following lines and add the bolded values:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["define('AUTH_KEY', ",(0,r.jsx)(n.strong,{children:"getenv('AUTH_KEY')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('SECURE_AUTH_KEY', ",(0,r.jsx)(n.strong,{children:"getenv('SECURE_AUTH_KEY')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('LOGGED_IN_KEY', ",(0,r.jsx)(n.strong,{children:"getenv('LOGGED_IN_KEY')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('NONCE_KEY', ",(0,r.jsx)(n.strong,{children:"getenv('NONCE_KEY')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('AUTH_SALT', ",(0,r.jsx)(n.strong,{children:"getenv('AUTH_SALT')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('SECURE_AUTH_SALT', ",(0,r.jsx)(n.strong,{children:"getenv('SECURE_AUTH_SALT')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('LOGGED_IN_SALT', ",(0,r.jsx)(n.strong,{children:"getenv('LOGGED_IN_SALT')"}),");"]}),"\n",(0,r.jsxs)(n.li,{children:["define('NONCE_SALT', ",(0,r.jsx)(n.strong,{children:"getenv('NONCE_SALT')"}),");"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Image: Adding database connector information to wp-config.php.",src:i(1654).A+"",width:"1472",height:"1314"}),"\n",(0,r.jsx)(n.em,{children:"Figure 1: Adding database connector information to wp-config.php."})]}),"\n",(0,r.jsxs)(n.p,{children:["Confirm the values are correct and ",(0,r.jsx)(n.strong,{children:"save"})," the file."]}),"\n",(0,r.jsx)(n.h3,{id:"zip-as-new-file-and-rename---local-computer",children:"Zip As New File and Rename - Local Computer"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Warning: Make sure you ",(0,r.jsx)(n.strong,{children:"only"})," zip the wordpress directory, not the directory with the version number."]}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Find the ",(0,r.jsx)(n.strong,{children:"wordpress"})," folder on your local computer."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Zip the entire wordpress directory"}),", not just the files inside. (Use the zip compression protocol. Don't use something else like .rar.)"]}),"\n",(0,r.jsxs)(n.li,{children:["Rename your new zip file: ",(0,r.jsxs)(n.strong,{children:["wordpress-6.7.2-",(0,r.jsx)(n.em,{children:"modded"}),".zip"]})," (Use whatever version the source zip file has.)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"investigation-2-creating-an-simple-storage-service-s3-bucket",children:"Investigation 2: Creating an Simple Storage Service (S3) Bucket"}),"\n",(0,r.jsx)(n.p,{children:"Start your session in the Learner Lab by clicking on the Start Lab button. You are going to create an S3 bucket and upload your wordpress configuration files."}),"\n",(0,r.jsxs)(n.p,{children:["From the Console Home navigate to ",(0,r.jsx)(n.strong,{children:"Storage"})," > ",(0,r.jsx)(n.strong,{children:"S3"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Navigate to Amazon S3"}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Create bucket"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"general-configuration",children:"General configuration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["General purpose: ",(0,r.jsx)(n.strong,{children:"selected"})]}),"\n",(0,r.jsxs)(n.li,{children:["Bucket name: ",(0,r.jsx)(n.strong,{children:"senecausername-wordpress"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"object-ownership",children:"Object Ownership"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["ACLs disabled (recommended): ",(0,r.jsx)(n.strong,{children:"selected"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"block-public-access-settings-for-this-bucket",children:"Block Public Access settings for this bucket"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Block ",(0,r.jsx)(n.em,{children:"all"})," public access: ",(0,r.jsx)(n.strong,{children:"unchecked"})]}),"\n",(0,r.jsxs)(n.li,{children:["I acknowledge that the current settings might result in this bucket and the objects within becoming public: ",(0,r.jsx)(n.strong,{children:"checked"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"bucket-versioning",children:"Bucket versioning"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enable"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"default-encryption",children:"Default encryption"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Accept the defaults"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"bucket-key",children:"Bucket key"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enable"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Scroll down and click ",(0,r.jsx)(n.strong,{children:"Create bucket"})]}),"\n",(0,r.jsxs)(n.p,{children:["Once your bucket has created, click on your ",(0,r.jsx)(n.strong,{children:"bucket's name"})," (ie: ",(0,r.jsx)(n.strong,{children:"candice-wordpress"}),")."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Upload"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Add files"})]}),"\n",(0,r.jsx)(n.li,{children:"Select your wordpress-modded zip file"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Make note of the Destination location: ie: ",(0,r.jsx)(n.strong,{children:"s3://candice-wordpress"}),". You will need this for your next lab."]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Upload"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"lab-7-sign-off-show-instructor",children:"Lab 7 Sign-Off (Show Instructor)"}),"\n",(0,r.jsx)(n.p,{children:"Take screenshots showing the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Your S3 bucket"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"exploration-questions",children:"Exploration Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"What is S3?"}),"\n",(0,r.jsx)(n.li,{children:"Describe the process of creating an S3 bucket as outlined in the lab instructions."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1654:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/a2_wp-config-example-a18dab092f2a26d1055cc1e476f6c901.png"},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);